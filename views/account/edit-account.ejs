<!-- views/account/edit-account.ejs -->
<div class="account-page">
  <h1 class="account-title"><%= title %></h1>

  <% if (errors && errors.length) { %>
    <ul class="form-errors">
      <% errors.forEach(err => { %>
        <li><%= err.msg %></li>
      <% }) %>
    </ul>
  <% } %>

  <% if (messages && messages().length) { %>
    <div class="flash-messages">
      <%- messages() %>
    </div>
  <% } %>

  <div class="account-body">
    <h2>Update Account</h2>
    <form action="/account/update" method="post" class="account-form">
      <input type="hidden" name="account_id" value="<%= account && account.account_id ? account.account_id : '' %>" />

      <div class="form-row">
        <label for="account_firstname">First Name <span class="required">*</span></label>
        <input id="account_firstname" name="account_firstname" type="text" required value="<%= typeof account_firstname !== 'undefined' ? account_firstname : (account ? account.account_firstname : '') %>" />
      </div>

      <div class="form-row">
        <label for="account_lastname">Last Name <span class="required">*</span></label>
        <input id="account_lastname" name="account_lastname" type="text" required value="<%= typeof account_lastname !== 'undefined' ? account_lastname : (account ? account.account_lastname : '') %>" />
      </div>

      <div class="form-row">
        <label for="account_email">Email <span class="required">*</span></label>
        <input id="account_email" name="account_email" type="email" required value="<%= typeof account_email !== 'undefined' ? account_email : (account ? account.account_email : '') %>" />
      </div>

      <div class="form-row">
        <button type="submit" class="btn-primary">Update Account</button>
      </div>
    </form>

    <hr />

    <h2>Change Password</h2>
    <p>Password must be at least 12 characters and contain uppercase, lowercase, number and symbol.</p>
    <form action="/account/change-password" method="post" class="account-form">
      <input type="hidden" name="account_id" value="<%= account && account.account_id ? account.account_id : '' %>" />

      <div class="form-row">
        <label for="newPassword">New Password <span class="required">*</span></label>
        <input id="newPassword" name="account_password" type="password" required />
      </div>

      <div class="form-row">
        <button type="submit" class="btn-primary">Change Password</button>
      </div>
    </form>
  </div>
</div>
