<!-- views/account/register.ejs -->
<div class="account-page">
  <h1 class="account-title"><%= title %></h1>

  <!-- Flash / express-messages -->
  <div class="flash-messages">
    <%- messages() %>

    <% if (errors) { %>
      <ul class="error">
      <% errors.array().forEach(error => { %>
      <li><%= error.msg %></li>
      <%  }) %>
      </ul>
    <% } %>

  </div>

  <form action="/account/register" method="post" class="account-form">
    <div class="form-row">
      <label for="account_firstname">First Name <span class="required" aria-hidden="true">*</span></label>
      <input id="account_firstname" name="account_firstname" type="text" required value="<%= locals.account_firstname %>" />
    </div>

    <div class="form-row">
      <label for="account_lastname">Last Name <span class="required" aria-hidden="true">*</span></label>
      <input id="account_lastname" name="account_lastname" type="text" required value="<%= locals.account_lastname %>" />
    </div>

    <div class="form-row">
      <label for="account_email">Email <span class="required" aria-hidden="true">*</span></label>
      <input id="account_email" name="account_email" type="email" required value="<%= locals.account_firstname %>" />
    </div>

    <div class="form-row">
      <label for="account_password">Password <span class="required" aria-hidden="true">*</span></label>
      <input
        id="account_password"
        name="account_password"
        type="password"
        required
        pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
        aria-describedby="pw-requirements"
      />
      <button type="button" id="togglePassword" class="pw-toggle" aria-pressed="false">Show</button>
    </div>

    <div id="pw-requirements" class="pw-requirements">
      <strong>Password requirements:</strong>
      <ul>
        <li>Minimum 12 characters</li>
        <li>At least 1 uppercase letter</li>
        <li>At least 1 number</li>
        <li>At least 1 special character (e.g. !@#$%)</li>
      </ul>
    </div>

    <div class="form-row">
      <button type="submit" class="btn-primary">Register</button>
    </div>
  </form>

  <p class="register-link">
    Already have an account? <a href="/account/login">Log in here</a>
  </p>
</div>
