<!-- views/messages/compose.ejs -->
<div class="container">
  <h1>Compose Message</h1>

  <form action="/account/messages/send" method="post" class="account-form">
    <div class="form-row">
      <label for="recipient_id">Recipient</label>
      <select name="recipient_id" id="recipient_id" required>
        <option value="">-- choose recipient --</option>
        <% recipients.forEach(r => { %>
          <option value="<%= r.account_id %>"><%= r.account_firstname %> <%= r.account_lastname %> (<%= r.account_type %>)</option>
        <% }) %>
      </select>
    </div>

    <div class="form-row">
      <label for="subject">Subject</label>
      <input id="subject" name="subject" type="text" />
    </div>

    <div class="form-row">
      <label for="body">Message</label>
      <textarea id="body" name="body" rows="6" required></textarea>
    </div>

    <div class="form-row">
      <button class="btn-primary" type="submit">Send</button>
      <a class="btn" href="/account/messages/inbox">Cancel</a>
    </div>
  </form>
</div>
